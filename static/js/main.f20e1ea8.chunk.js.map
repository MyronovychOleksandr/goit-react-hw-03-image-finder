{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/App.module.css","components/imageGallery/ImageGallery.module.css","components/searchbar/Searchbar.js","components/imageGallery/ImageGallery.js","components/imageGalleryItem/ImageGalleryItem.js","components/modal/Modal.js","services/imagesApi.js","components/App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","s","searchbar","searchForm","type","onClick","this","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","Component","ImageGallery","handleGalleryClick","id","imageGallery","children","ImageGalleryItem","images","map","webformatURL","largeImageURL","imageGalleryItem","src","alt","imageGalleryItemImage","Modal","window","removeEventListener","onClose","overlay","modal","url","searchQuery","page","axios","get","then","response","data","hits","App","loading","fetchImages","imagesApi","prevState","handleSearchFormSubmit","query","handleOpenModal","addEventListener","handleEscapeModale","code","prevProps","prevQuery","nextQuery","prevImages","nextImages","a","innerHeight","scrollBy","top","behavior","app","length","color","height","width","timeout","button","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f20e1ea8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2tdHM\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__1q_QM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3eyi8\",\"modal\":\"Modal_modal__2BOem\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Ed40\",\"button\":\"App_button__FRIBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__372i9\"};","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            onClick={this.handleSubmit}\r\n            className={s.searchFormButton}\r\n          >\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  handleGalleryClick = (e) => {\r\n    if (e.target.id) {\r\n      this.props.onClick(e.target.id);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ul className={s.imageGallery} onClick={this.handleGalleryClick}>\r\n        {this.props.children}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ images }) {\r\n  return images.map(({ webformatURL, largeImageURL }) => (\r\n    <li className={s.imageGalleryItem} key={largeImageURL} id={largeImageURL}>\r\n      <img\r\n        src={webformatURL}\r\n        id={largeImageURL}\r\n        alt=\"\"\r\n        className={s.imageGalleryItemImage}\r\n      />\r\n    </li>\r\n  ));\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.props.onClose);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.url} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst apiKey = \"18864645-939ea59db410a3043a30cf718\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n\r\n// const BASE_URL = \"https://pixabay.com/api\";\r\n// const API_KEY = \"18864645-939ea59db410a3043a30cf718\";\r\n\r\n// axios.defaults.baseURL = BASE_URL;\r\n// axios.defaults.params = {\r\n//   key: API_KEY,\r\n//   image_type: \"photo\",\r\n//   orientation: \"horizontal\",\r\n//   per_page: 12,\r\n// };\r\n\r\n// const fetchImagesWithQuery = async (q, page) => {\r\n//   try {\r\n//     const { data } = await axios.get(\"\", {\r\n//       params: { q, page },\r\n//     });\r\n//     return data.hits;\r\n//   } catch (error) {\r\n//     console.log(\"error\", { error });\r\n//     return [];\r\n//   }\r\n// };\r\n","import React, { Component } from \"react\";\n\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./modal/Modal\";\n\nimport imagesApi from \"../services/imagesApi\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    loading: false,\n    page: 1,\n    largeImageURL: \"\",\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    const prevImages = prevState.images;\n    const nextImages = this.state.images;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n\n    if (prevImages !== nextImages && this.state.page > 2) {\n      const a = window.innerHeight - 150;\n      window.scrollBy({\n        top: a,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    imagesApi.fetchImagesWithQuery(searchQuery, page).then((images) =>\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...images],\n        page: prevState.page + 1,\n        loading: false,\n      }))\n    );\n    // .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchFormSubmit = (query) => {\n    if (this.state.searchQuery !== query) {\n      this.setState({ searchQuery: query, page: 1, images: [] });\n    }\n  };\n\n  handleOpenModal = (url) => {\n    this.setState({ largeImageURL: url });\n    window.addEventListener(\"keydown\", this.handleEscapeModale);\n  };\n\n  handleEscapeModale = (e) => {\n    if (e.code === \"Escape\") {\n      this.setState({ largeImageURL: \"\" });\n    }\n  };\n\n  render() {\n    const { images, loading, largeImageURL } = this.state;\n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n        {images.length > 0 && (\n          <ImageGallery onClick={this.handleOpenModal}>\n            <ImageGalleryItem images={images} />\n          </ImageGallery>\n        )}\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {largeImageURL && (\n          <Modal url={largeImageURL} onClose={this.handleEscapeModale} />\n        )}\n        {images.length > 0 && (\n          <button className={s.button} type=\"button\" onClick={this.fetchImages}>\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3mu0T\",\"searchForm\":\"Searchbar_searchForm__1t8Gb\",\"searchFormButton\":\"Searchbar_searchFormButton__rZ8Fh\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3A3gX\",\"searchFormInput\":\"Searchbar_searchFormInput__7EtSf\"};"],"sourceRoot":""}